<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/addons/p5.sound.min.js"></script>

<script language="javascript" type="text/javascript" data-javascript-target="canvas">

var osc;
var r = 0;
var w;
var h;


function preload() {
	nulll = loadImage("../img/nulll.png");
	
	gfru1 = loadImage("../img/rottenfruit/gfru/gfru1.png");
	gfru2 = loadImage("../img/rottenfruit/gfru/gfru2.png");
	gfru3 = loadImage("../img/rottenfruit/gfru/gfru3.png");
	gfru4 = loadImage("../img/rottenfruit/gfru/gfru4.png");
	gfru5 = loadImage("../img/rottenfruit/gfru/gfru5.png");
	gfru6 = loadImage("../img/rottenfruit/gfru/gfru6.png");
	gfru7 = loadImage("../img/rottenfruit/gfru/gfru7.png");
	gfru8 = loadImage("../img/rottenfruit/gfru/gfru8.png");
	gfru9 = loadImage("../img/rottenfruit/gfru/gfru9.png");
	gfru0 = loadImage("../img/rottenfruit/gfru/gfru0.png");

	apple1 = loadImage("../img/rottenfruit/apple/apple1.png");
	apple2 = loadImage("../img/rottenfruit/apple/apple2.png");
	apple3 = loadImage("../img/rottenfruit/apple/apple3.png");
	apple4 = loadImage("../img/rottenfruit/apple/apple4.png");
	apple5 = loadImage("../img/rottenfruit/apple/apple5.png");
	apple6 = loadImage("../img/rottenfruit/apple/apple6.png");
	apple7 = loadImage("../img/rottenfruit/apple/apple7.png");
	apple8 = loadImage("../img/rottenfruit/apple/apple8.png");
	apple9 = loadImage("../img/rottenfruit/apple/apple9.png");
	apple10 = loadImage("../img/rottenfruit/apple/apple10.png");

	banana1 = loadImage("../img/rottenfruit/banana/banana1.png");
	banana2 = loadImage("../img/rottenfruit/banana/banana2.png");
	banana3 = loadImage("../img/rottenfruit/banana/banana3.png");
	banana4 = loadImage("../img/rottenfruit/banana/banana4.png");
	banana5 = loadImage("../img/rottenfruit/banana/banana5.png");
	banana6 = loadImage("../img/rottenfruit/banana/banana6.png");
	banana7 = loadImage("../img/rottenfruit/banana/banana7.png");
	banana8 = loadImage("../img/rottenfruit/banana/banana8.png");
	banana9 = loadImage("../img/rottenfruit/banana/banana9.png");
	banana10 = loadImage("../img/rottenfruit/banana/banana10.png");

	grass = loadImage("../img/rottenfruit/grassooo.png");
	sky = loadImage("../img/rottenfruit/sky.png");
}

function setup() {
	createCanvas(windowWidth,windowHeight);
	frameRate(24);
	
	b = 0;
	s = 300;
	x = 100;
	y = 100;

	reverb = new p5.Reverb();
	delay = new p5.Delay();
	osc = new p5.Oscillator();
	osc.setType('sine');
	osc.freq(s);
	osc.amp(0);
	osc.start();



	
}

function draw(){
	m = nulll;

background(0,200,255);

	imageMode(CENTER);
	
	push();
	translate(windowWidth/2, windowHeight/2);
	rotate(r/2);
	image(sky,0,0,windowWidth*1.4,windowWidth*1.4);
	pop();

	push();
	translate(windowWidth/2, windowHeight/2);
	rotate(r/-2);
	image(sky,0,0,windowWidth/1.4,windowWidth/1.4);
	pop();

	push();
	translate(windowWidth/2, windowHeight/2);
	rotate(r/2);
	image(sky,0,0,windowWidth/3,windowWidth/3);
	pop();

	push();
	translate(windowWidth/2, windowHeight/2);
	rotate(r/-2);
	image(sky,0,0,windowWidth/7,windowWidth/7);
	pop();

	push();
	translate(windowWidth/2, windowHeight/2);
	rotate(r/2);
	image(sky,0,0,windowWidth/15,windowWidth/15);
	pop();


	push();
	translate(windowWidth/2, windowHeight/2);
	rotate(r/2);
	image(sky,0,0,windowWidth/35,windowWidth/35);
	pop();

	push();
	r = r + .01;
	translate(windowWidth/2,windowHeight/2);
	rotate(r*-1);
	image(grass,0,0,windowWidth*2,windowWidth*2);
	pop();

	push();
	translate(windowWidth/2,windowHeight/2);
	rotate(r);
	image(grass,0,0,windowWidth,windowWidth);
	pop();

	push();
	translate(windowWidth/2,windowHeight/2);
	rotate(r*-1);
	image(grass,0,0,windowWidth/2,windowWidth/2);
	pop();

	push();
	translate(windowWidth/2,windowHeight/2);
	rotate(r);
	image(grass,0,0,windowWidth/5,windowWidth/5);
	pop();

	push();
	translate(windowWidth/2,windowHeight/2);
	rotate(r*-1);
	image(grass,0,0,windowWidth/11,windowWidth/11);
	pop();

	push();
	translate(windowWidth/2,windowHeight/2);
	rotate(r);
	image(grass,0,0,windowWidth/25,windowWidth/25);
	pop();


	
	if (keyIsPressed === true){
		if (key == 'a'){
			m = banana1;
			osc.amp(0.7, 0.05);
			osc.freq(random(95,115));
		}
		if (key == 's'){
			m = banana2;
			osc.amp(0.7, 0.05);
			osc.freq(random(120,135));
		}
		if (key == 'd'){
			m = banana3
			osc.amp(0.7, 0.05);
			osc.freq(random(140,155));
		}
		if (key == 'f'){
			m = banana4;
			osc.amp(0.7, 0.05);
			osc.freq(random(160,185));
		}
		if (key == 'g'){
			m = banana5;
			osc.amp(0.7, 0.05);
			osc.freq(random(190,205));
		}
		if (key == 'h'){
			m = banana6;
			osc.amp(0.7, 0.05 )
			osc.freq(random(210,215));
		}
		if (key == 'j'){
			m = banana7;
			osc.amp(0.7,.05);
			osc.freq(random(220,235));
		}
		if (key == 'k'){
			m = banana8;
			osc.amp(0.7,0.05);
			osc.freq(random(240,255));
		}
		if (key == 'l'){
			m = banana9;
			osc.amp(0.7,0.05);
			osc.freq(random(260,275));
		}
		if (key == ';'){
			m = banana10;
			osc.amp(0.7,0.05);
			osc.freq(random(275,285));
		}
		if (key == 'q'){
			m = apple1;
			osc.amp(0.7,0.05);
			osc.freq(random(285,300));
		}
		if (key == 'w'){
			m = apple2;
			osc.amp(0.7,0.05);
			osc.freq(random(305,320));
		}
		if (key == 'e'){
			m = apple3;
			osc.amp(0.7,0.05);
			osc.freq(random(325,340));
		}
		if (key == 'r'){
			m = apple4;
			osc.amp(0.7,0.05);
			osc.freq(random(345,360));
		}
		if (key == 't'){
			m = apple5;
			osc.amp(0.7,0.05);
			osc.freq(random(365,380));
		}
		if (key == 'y'){
			m = apple6;
			osc.amp(0.7,0.05);
			osc.freq(random(385,400));
		}
		if (key == 'u'){
			m = apple7;
			osc.amp(0.7,0.05);
			osc.freq(random(405,420));
		}
		if (key == 'i'){
			m = apple8;
			osc.amp(0.7,0.05);
			osc.freq(random(425,440));
		}
		if (key == 'o'){
			m = apple9;
			osc.amp(0.7,0.05);
			osc.freq(random(445,460));
		}
		if (key == 'p'){
			m = apple10;
			osc.amp(0.7,0.05);
			osc.freq(random(465,480));
		}
		if (key == '1'){
			m = gfru1;
			osc.amp(0.7,0.05);
			osc.freq(random(485,500));
		}
		if (key == '2'){
			m = gfru2;
			osc.amp(0.7, 0.05);
			osc.freq(random(505,520));
		}
		if (key == '3'){
			m = gfru3;
			osc.amp(0.7,0.05);
			osc.freq(random(525,540));
		}
		if (key == '4'){
			m = gfru4;
			osc.amp(0.7, 0.05);
			osc.freq(random(545,560));
		}
		if (key == '5'){
			m = gfru5;
			osc.amp(0.7, 0.05);
			osc.freq(random(565,580));
		}
		if (key == '6'){
			m = gfru6;
			osc.amp(0.7, 0.05);
			osc.freq(random(585,600));
		}
		if (key == '7'){
			m = gfru7;
			osc.amp(0.7, 0.05);
			osc.freq(random(605,620));
		}
		if (key == '8'){
			m = gfru8;
			osc.amp(0.7, 0.05);
			osc.freq(random(625,640));
		}
		if (key == '9'){
			m = gfru9;
			osc.amp(0.7, 0.05);
			osc.freq(random(645,660));
		}
		if (key == '0'){
			m = gfru0;
			osc.amp(0.7, 0.05);
			osc.freq(random(680,700));
		}
		if (key == 'z'){
		delay.process(osc, .72, .7, 2300);
		}else{

		delay.process(osc, 0, .0, 0);
		}
		

	}else{
		osc.amp(0, 0.55);	
	}
	x = windowWidth/2;
	y = windowHeight/2;
	a = m;
	image(a,x,y);
	
}

</script>

<style>
canvas { position: fixed; display: block; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; }
        </style>

<canvas id="canvas"></canvas>
